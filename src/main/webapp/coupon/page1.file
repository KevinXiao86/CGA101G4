<%@ page contentType="text/html; charset=UTF-8" pageEncoding="Big5"%>
<%  int rowsPerPage = 3;  //瘥�����蝑���    
    int rowNumber=0;      //蝮賜���
    int pageNumber=0;     //蝮賡����      
    int whichPage=1;      //蝚砍嗾��
    int pageIndexArray[]=null;
    int pageIndex=0; 
%>
 
<%  
    rowNumber=list.size();
    if (rowNumber%rowsPerPage !=0)
         pageNumber=rowNumber/rowsPerPage + 1;
    else pageNumber=rowNumber/rowsPerPage;    

    pageIndexArray=new int[pageNumber]; 
    for (int i=1 ; i<=pageIndexArray.length ; i++)
         pageIndexArray[i-1]=i*rowsPerPage-rowsPerPage;
%>

<%  try {
       whichPage = Integer.parseInt(request.getParameter("whichPage"));
       pageIndex=pageIndexArray[whichPage-1];
    } catch (NumberFormatException e) { //蝚砌�甈∪�瑁�������
       whichPage=1;
       pageIndex=0;
    } catch (ArrayIndexOutOfBoundsException e) { //蝮賡���訾�憭����航炊����
         if (pageNumber>0){
              whichPage=pageNumber;
              pageIndex=pageIndexArray[pageNumber-1];
         }
    } 
%>

<%if (pageNumber>0){%>
  <b><font color=red>蝚�<%=whichPage%>/<%=pageNumber%>��</font></b>
<%}%>

<b>��蝚� �� �� 閰� 璇� 隞� 憒� 銝� �� 蝷�: ��<font color=red><%=rowNumber%></font>蝑�</b>